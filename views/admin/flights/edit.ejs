<!DOCTYPE html>
<html>
<head>
  <title><%= title %></title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <%- include('../../partials/navbar', { user: user }) %>

  <h1><%= title %></h1>

  <% if (error) { %>
    <div style="color:red"><%= error %></div>
  <% } %>

  <form method="POST" action="/admin/flights/<%= flight.flight_id %>/edit">
    <label>Origin Airport Code:
      <input type="text" name="origin_airport_code" value="<%= flight.origin_airport_code %>" required>
    </label><br>

    <label>Destination Airport Code:
      <input type="text" name="destination_airport_code" value="<%= flight.destination_airport_code %>" required>
    </label><br>

    <label>Flight Type:
      <select name="direct_indirect_flag" required>
        <option value="direct" <%= flight.direct_indirect_flag === 'direct' ? 'selected' : '' %>>Direct</option>
        <option value="indirect" <%= flight.direct_indirect_flag === 'indirect' ? 'selected' : '' %>>Indirect</option>
      </select>
    </label><br>

    <label>Return Option:
      <select name="return_option_flag" required>
        <option value="false" <%= !flight.return_option_flag ? 'selected' : '' %>>No</option>
        <option value="true" <%= flight.return_option_flag ? 'selected' : '' %>>Yes</option>
      </select>
    </label><br>

    <label>Scheduled Departure:
      <input
        type="datetime-local"
        name="scheduled_departure"
        value="<%= new Date(flight.scheduled_departure).toISOString().slice(0,16) %>"
        required
      >
    </label><br>

    <label>Scheduled Arrival:
      <input
        type="datetime-local"
        name="scheduled_arrival"
        value="<%= new Date(flight.scheduled_arrival).toISOString().slice(0,16) %>"
        required
      >
    </label><br>

    <button type="submit">Update Flight</button>
  </form>

  <p><a href="/admin/flights">Back to Flights</a></p>
</body>
</html>
